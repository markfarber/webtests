<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      /* body { min-height:540px; }     
body[orient="portrait"] { min-height:540px; }
body[orient="landscape"] { min-height:400px; } */
    </style>
  </head>
  <body>
    <h1>no sherch bar ex</h1>
    <button id="btn">FB</button>

    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>

    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-storage-compat.js"></script>

    <script>
      const firebaseConfig = {
        apiKey: "AIzaSyAe2AQgp3soMCBHX5uCtDuYRDdFAwondVU",
        authDomain: "tyg-stage-b8e16.firebaseapp.com",
        projectId: "tyg-stage-b8e16",
        storageBucket: "tyg-stage-b8e16.appspot.com",
        messagingSenderId: "678914468365",
        appId: "1:678914468365:web:0345776b1da9cdd48bc344",
        measurementId: "G-FDJ0SB6C4G",
      };

      // Initialize Firebase
      const app = firebase.initializeApp(firebaseConfig);
      firebase.auth().useDeviceLanguage();
      provider = new firebase.auth.FacebookAuthProvider();
      fsignInBtn = document.getElementById("btn");
      fsignInBtn.onclick = () => {
        console.log("onclick");

        firebase.auth().signInWithRedirect(provider);

        //   firebase.auth().signInWithPopup(provider)
        //   .then((result) => {
        //     /** @type {firebase.auth.OAuthCredential} */
        //     var credential = result.credential;

        //     // The signed-in user info.
        //     var user = result.user;
        //     console.log(user)

        //     // IdP data available in result.additionalUserInfo.profile.
        //       // ...

        //     // This gives you a Facebook Access Token. You can use it to access the Facebook API.
        //     var accessToken = credential.accessToken;

        //     // ...
        //   })
        //   .catch((error) => {
        //     // Handle Errors here.
        //     var errorCode = error.code;
        //     var errorMessage = error.message;
        //     // The email of the user's account used.
        //     var email = error.email;
        //     // The firebase.auth.AuthCredential type that was used.
        //     var credential = error.credential;
        //     console.log(errorMessage)

        //     // ...
        //   });
      };

      firebase
        .auth()
        .getRedirectResult()
        .then((result) => {
          if (result.credential) {
            /** @type {firebase.auth.OAuthCredential} */
            var credential = result.credential;

            // This gives you a Facebook Access Token. You can use it to access the Facebook API.
            var token = credential.accessToken;
            // ...
          }
          // The signed-in user info.
          var user = result.user;
          console.log(user);
          // IdP data available in result.additionalUserInfo.profile.
          // ...
        })
        .catch((error) => {
          // Handle Errors here.
          var errorCode = error.code;
          var errorMessage = error.message;
          // The email of the user's account used.
          var email = error.email;
          // The firebase.auth.AuthCredential type that was used.
          var credential = error.credential;
          console.log(errorMessage);

          // ...
        });
    </script>
  </body>
</html>
